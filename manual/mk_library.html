<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>mk_library</title><link rel="stylesheet" type="text/css" href="docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="MakeKit Manual" /><link rel="up" href="rn03.html" title="Compiler Module" /><link rel="prev" href="mk_headers.html" title="mk_headers" /><link rel="next" href="mk_pch.html" title="mk_pch" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">mk_library</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mk_headers.html">Prev</a> </td><th width="60%" align="center">Compiler Module</th><td width="20%" align="right"> <a accesskey="n" href="mk_pch.html">Next</a></td></tr></table><hr /></div><div class="refentry"><a id="mk_library"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>mk_library — Build a library</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="programlisting">
MODULES="... compiler ..."</pre><div class="cmdsynopsis"><p><code class="function">mk_library</code>  <code class="literal">LIB=</code><em class="replaceable"><code>name</code></em>   <em class="replaceable"><code>options</code></em>... </p></div></div><div class="refsection"><a id="idm140208484120512"></a><h2>Options</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">LIB=</code><em class="replaceable"><code>name</code></em></span></dt><dd><p>
Sets the name of the library. Do not specify a leading <code class="literal">lib</code> or file extension.
</p></dd><dt><span class="term"><code class="literal">VERSION=</code><em class="replaceable"><code>verspec</code></em></span></dt><dd><p>
Sets the version information on the created library.  There are several possible formats for <em class="replaceable"><code>verspec</code></em>: </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>cur</code></em><code class="literal">:</code><em class="replaceable"><code>rev</code></em><code class="literal">:</code><em class="replaceable"><code>age</code></em>[<code class="literal">-</code><em class="replaceable"><code>release</code></em>]</span></dt><dd><p>        This defines the version using the libtool version information        convention, which is the preferred method.  <em class="replaceable"><code>cur</code></em>        is the current version of the interface, <em class="replaceable"><code>rev</code></em> is        the current revision of the implementation, and <em class="replaceable"><code>age</code></em>        is how many interface versions into the past with which you remain        compatible.  If you specify <em class="replaceable"><code>release</code></em>, it will be suffixed        to the name of the physical library prior to any extensions.     </p></dd><dt><span class="term"><em class="replaceable"><code>major</code></em><code class="literal">.</code><em class="replaceable"><code>minor</code></em><code class="literal">.</code><em class="replaceable"><code>micro</code></em></span></dt><dd><p>        This defines the version in terms of the literal major, minor, and micro        numbers that appear in the library name.  Note that not all three numbers        are used on every platform; on these, the unused numbers are omitted.     </p></dd><dt><span class="term"><em class="replaceable"><code>ver1</code></em><code class="literal">,</code><em class="replaceable"><code>ver2</code></em><code class="literal">,</code><em class="replaceable"><code>...</code></em></span></dt><dd><p>        This explicitly defines the versions numbers that will appear in the filenames        of the physical library and its symbolic links.  <em class="replaceable"><code>ver1</code></em> is for the        binary itself, and all subsequent versions will be symlinks.  If you specify        <code class="literal">-</code> as a version, it will create a file or link with no version suffixes        (e.g. <code class="literal">libfoo.so</code>).     </p></dd></dl></div><p>
</p></dd><dt><span class="term"><code class="literal">SYMFILE=</code><em class="replaceable"><code>file</code></em></span></dt><dd><p>
Specifies a file which contains a list of symbol names, one per line, which should be exported by the library.  If this is option is not used, it defaults to the behavior of the compiler and linker, which typically export all non-static symbols.  This option will be silently ignored on platforms where it is not supported.
</p></dd><dt><span class="term"><em class="replaceable"><code>...</code></em></span></dt><dd><p>
Other common options documented in the <code class="varname"><a class="xref" href="compiler.html" title="compiler"><span class="refentrytitle">compiler</span></a></code> module.
</p></dd></dl></div></div><div class="refsection"><a id="idm140208484095040"></a><h2>Description</h2>
<p>
Defines a target to build a C/C++ shared library.
</p>
<p>
A libtool-compatible .la file will also be generated.
This is actually the canonical representation of a library
in MakeKit and is the target which is placed in <code class="varname">result</code>.
</p>
</div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mk_headers.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="rn03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="mk_pch.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">mk_headers </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> mk_pch</td></tr></table></div></body></html>